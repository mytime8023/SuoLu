<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>第一个echart</title>
</head>
<script src="js/jquery.js"></script>
<script src="js/echarts.js"></script>
<body>
	<h1>活动界面数据统计</h1>
	<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 900px;height:400px;"></div>
	
</body>
<script type="text/javascript">

var myChart = echarts.init(document.getElementById('main'));
/* option = {
	    title : {
	        text: '某站点用户访问来源',
	        subtext: '纯属虚构',
	        x:'center'
	    },
	    tooltip : {
	        trigger: 'item',
	        formatter: "{a} <br/>{b} : {c} ({d}%)"
	    },
	    legend: {
	        orient: 'vertical',
	        left: 'left',
	        data: ['新东方','名师优学','天云山','其他广告位','高考学园']
	    },
	    series : [
	        {
	            name: '访问来源',
	            type: 'pie',
	            radius : '55%',
	            center: ['50%', '60%'],
	            data:[
	                {value:335, name:'新东方'},
	                {value:310, name:'名师优学'},
	                {value:234, name:'天云山'},
	                {value:135, name:'其他广告位'},
	                {value:1548, name:'高考学园'}
	            ],
	            itemStyle: {
	                emphasis: {
	                    shadowBlur: 10,
	                    shadowOffsetX: 0,
	                    shadowColor: 'rgba(0, 0, 0, 0.5)'
	                }
	            }
	        }
	    ]
	}; */
	
	option = {
		    tooltip : {
		        show: true,
		        formatter: "{a} <br/>{b} : {c} ({d}%)"
		    },
		    legend: {
		        orient : 'vertical',
		        x : 'left',
		        data:['直达','营销广告','搜索引擎','邮件营销','联盟广告','视频广告','百度','谷歌','必应','其他']
		    },
		    toolbox: {
		        show : true,
		        feature : {
		            mark : {show: true},
		            dataView : {show: true, readOnly: false},
		            restore : {show: true},
		            saveAsImage : {show: true}
		        }
		    },
		    calculable : true,
		    series : [
		        {
		            name:'访问来源',
		            type:'pie',
		            center : ['35%', 200],
		            radius : 80,
		            itemStyle : {
		                normal : {
		                    label : {
		                        position : 'inner',
		                        formatter : function (params) {                         
		                          return (params.percent - 0).toFixed(0) + '%'
		                        }
		                    },
		                    labelLine : {
		                        show : false
		                    }
		                },
		                emphasis : {
		                    label : {
		                        show : true,
		                        formatter : "{b}\n{d}%"
		                    }
		                }
		                
		            },
		            data:[
		                {value:335, name:'直达'},
		                {value:679, name:'营销广告'},
		                {value:1548, name:'搜索引擎'}
		            ]
		        },
		        {
		            name:'访问来源',
		            type:'pie',
		            center : ['35%', 200],
		            radius : [110, 140],
		            data:[
		                {value:335, name:'直达'},
		                {value:310, name:'邮件营销'},
		                {value:234, name:'联盟广告'},
		                {value:135, name:'视频广告'},
		                {
		                    value:1048,
		                    name:'百度',
		                    itemStyle : {
		                        normal : {
		                            color : (function (){
		                                var zrColor = require('zrender/tool/color');
		                                return zrColor.getRadialGradient(
		                                    300, 200, 110, 300, 200, 140,
		                                    [[0, 'rgba(255,255,0,1)'],[1, 'rgba(30,144,250,1)']]
		                                )
		                            })(),
		                            label : {
		                                textStyle : {
		                                    color : 'rgba(30,144,255,0.8)',
		                                    align : 'center',
		                                    baseline : 'middle',
		                                    fontFamily : '微软雅黑',
		                                    fontSize : 30,
		                                    fontWeight : 'bolder'
		                                }
		                            },
		                            labelLine : {
		                                length : 40,
		                                lineStyle : {
		                                    color : '#f0f',
		                                    width : 3,
		                                    type : 'dotted'
		                                }
		                            }
		                        }
		                    }
		                },
		                {value:251, name:'谷歌'},
		                {
		                    value:102,
		                    name:'必应',
		                    itemStyle : {
		                        normal : {
		                            label : {
		                                show : false
		                            },
		                            labelLine : {
		                                show : false
		                            }
		                        },
		                        emphasis : {
		                            label : {
		                                show : true
		                            },
		                            labelLine : {
		                                show : true,
		                                length : 50
		                            }
		                        }
		                    }
		                },
		                {value:147, name:'其他'}
		            ]
		        },
		        {
		            name:'访问来源',
		            type:'pie',
		            clockWise:true,
		            startAngle: 135,
		            center : ['75%', 200],
		            radius : [80, 120],
		            itemStyle :　{
		                normal : {
		                    label : {
		                        show : false
		                    },
		                    labelLine : {
		                        show : false
		                    }
		                },
		                emphasis : {
		                    color: (function (){
		                        var zrColor = require('zrender/tool/color');
		                        return zrColor.getRadialGradient(
		                            650, 200, 80, 650, 200, 120,
		                            [[0, 'rgba(255,255,0,1)'],[1, 'rgba(255,0,0,1)']]
		                        )
		                    })(),
		                    label : {
		                        show : true,
		                        position : 'center',
		                        formatter : "{d}%",
		                        textStyle : {
		                            color : 'red',
		                            fontSize : '30',
		                            fontFamily : '微软雅黑',
		                            fontWeight : 'bold'
		                        }
		                    }
		                }
		            },
		            data:[
		                {value:335, name:'直达'},
		                {value:310, name:'邮件营销'},
		                {value:234, name:'联盟广告'},
		                {value:135, name:'视频广告'},
		                {value:1548, name:'搜索引擎'}
		            ],
		            markPoint : {
		                symbol: 'star',
		                data : [
		                    {name : '最大', value : 1548, x:'80%', y:50, symbolSize:32}
		                ]
		            }
		        }
		    ]
		};
		               
	
	
	
	
	
	
myChart.setOption(option);
myChart.showLoading(); 
var names=[];    //类别数组（实际用来盛放X轴坐标值）
var nums=[];    //销量数组（实际用来盛放Y坐标值）//数据加载完之前先显示一段简单的loading动画
/* $.post("getHuoDoData.do",function(result){
	//请求成功时执行该函数内容，result即为服务器返回的json对象
	console.log("result"+result);
    if (result) {
           for(var i=0;i<result.length;i++){ 
              names.push(result[i].name);    //挨个取出类别并填入类别数组
            }
           for(var i=0;i<result.length;i++){       
               nums.push(result[i].value);    //挨个取出销量并填入销量数组
             }
           myChart.hideLoading();    //隐藏加载动画
           myChart.setOption({//加载数据图表
        	   
        	   title : {
       	        text: '某站点用户访问来源',
       	        subtext: '纯属虚构',
       	        x:'center'
       	    },
       	    tooltip : {
       	        trigger: 'item',
       	        formatter: "{a} <br/>{b} : {c} ({d}%)"
       	    },
       	    legend: {
       	        orient: 'vertical',
       	         left: 'left', 
       	    	height:100,
       	        data: names
       	    },
               series: [{
                   // 根据名字对应到相应的系列
                    name: '访问来源',
	            type: 'pie',
	            radius : '55%',
	            center: ['50%', '60%'],
	            data:result,
	            itemStyle: {
	                emphasis: {
	                    shadowBlur: 10,
	                    shadowOffsetX: 0,
	                    shadowColor: 'rgba(0, 0, 0, 0.5)'
	                }
	            }
               
               }],
               error : function(errorMsg) {
                   //请求失败时执行该函数
               alert("图表请求数据失败!");
               myChart.hideLoading();
               }
           });
    }
},"json");
 */

/* SELECT  sum(d.original_price*c.amount) as tpri,DATE_FORMAT(b.order_time,'%Y-%m-%d') as yinyedate  FROM orders b,client a,order_goods c,goods d where a.client_id=b.client_id AND b.orders_id=c.orders_id and c.goods_id=d.goods_id
GROUP BY yinyedate */
</script>
</html>